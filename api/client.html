
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>API: client &#8212; pubtools-pulplib  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="API: core" href="pulpcore.html" />
    <link rel="prev" title="pubtools-pulplib" href="../index.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="api-client">
<h1>API: client<a class="headerlink" href="#api-client" title="Permalink to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="pubtools.pulplib.Client">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pubtools.pulplib.</span></span><span class="sig-name descname"><span class="pre">Client</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pubtools/pulplib/_impl/client/client.html#Client"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pubtools.pulplib.Client" title="Permalink to this definition">¶</a></dt>
<dd><p>A client for the Pulp 2.x API.</p>
<p>This class provides high-level methods for querying a Pulp server and performing
actions in Pulp.</p>
<p><strong>Usage of futures:</strong></p>
<p>Most values are returned as <a class="reference external" href="https://docs.python.org/3/library/concurrent.futures.html#concurrent.futures.Future" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Future</span></code></a> objects.
Returned futures are resolved when:</p>
<ul class="simple">
<li><p>a request to Pulp succeeded, if operation is synchronous (e.g. get, search)</p></li>
<li><p>or a request to Pulp succeeded and any spawned tasks succeeded, if operation
is asynchronous (e.g. publish)</p></li>
</ul>
<p>If a future is currently awaiting one or more Pulp tasks, cancelling the future
will attempt to cancel those tasks.</p>
<p><strong>Client lifecycle:</strong></p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.12.0.</span></p>
</div>
<p>Client instances support the context manager protocol and can be used
via a <code class="docutils literal notranslate"><span class="pre">with</span></code> statement, as in example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">Client</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://pulp.example.com/&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
    <span class="n">do_something_with</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
</pre></div>
</div>
<p>While not mandatory, it is encouraged to ensure that any threads associated with
the client are promptly shut down.</p>
<p><strong>Proxy futures:</strong></p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.1.0.</span></p>
</div>
<p>All <a class="reference external" href="https://docs.python.org/3/library/concurrent.futures.html#concurrent.futures.Future" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Future</span></code></a> objects produced by this client are
<em>proxy futures</em>, meaning that attribute and method lookups on the objects are
proxied to the future’s result, blocking as needed.</p>
<p>This allows the client to be used within blocking code without having to
scatter calls to <code class="docutils literal notranslate"><span class="pre">.result()</span></code> throughout.</p>
<p>For example, this block of code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">repo</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_repository</span><span class="p">(</span><span class="n">repo_id</span><span class="p">)</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>
<span class="n">publish_tasks</span> <span class="o">=</span> <span class="n">repo</span><span class="o">.</span><span class="n">publish</span><span class="p">()</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>
<span class="n">task_ids</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">t</span><span class="o">.</span><span class="n">id</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">publish_tasks</span><span class="p">])</span>
<span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Published </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">repo</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">task_ids</span><span class="p">)</span>
</pre></div>
</div>
<p>…may be alternatively written without the calls to <code class="docutils literal notranslate"><span class="pre">.result()</span></code>, due to
the usage of proxy futures:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">repo</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_repository</span><span class="p">(</span><span class="n">repo_id</span><span class="p">)</span>
<span class="n">publish_tasks</span> <span class="o">=</span> <span class="n">repo</span><span class="o">.</span><span class="n">publish</span><span class="p">()</span>
<span class="n">task_ids</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">t</span><span class="o">.</span><span class="n">id</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">publish_tasks</span><span class="p">])</span>
<span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Published </span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">repo</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">task_ids</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Retries:</strong></p>
<p>In general, for all methods which represent an idempotent operation and
which return a Future, the library may retry operations several times in case
of failure.</p>
<p><strong>Throttling:</strong></p>
<p>This client will internally throttle the number of Pulp tasks allowed to be
outstanding at any given time, so that no single client can overload the Pulp
task queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – URL of a Pulp server, e.g. <a class="reference external" href="https://pulp.example.com/">https://pulp.example.com/</a>.</p></li>
<li><p><strong>task_throttle</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – Maximum number of queued or running tasks permitted for this client.
If more than this number of tasks are running, the client will wait before triggering more.
This can be used to ensure no single client overwhelms the Pulp server.</p></li>
<li><p><strong>threads</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – <p>A hint for the number of threads the client should use in order to
make concurrent requests to Pulp.</p>
<p>This number should be considered as more of a scaling factor than
a precise thread count. The client in practice will use more than
this number of threads.</p>
</p></li>
<li><p><strong>auth</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.11)"><em>object</em></a>) – <p>Any of these arguments, if provided, are used to initialize
<a class="reference external" href="https://requests.readthedocs.io/en/latest/api/#requests.Session" title="(in Requests v2.28.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">requests.Session</span></code></a> objects used by the client.</p>
<p>These may be used, for example, to configure the credentials
for the Pulp server or to use an alternative CA bundle.</p>
</p></li>
<li><p><strong>cert</strong> – <p>Any of these arguments, if provided, are used to initialize
<a class="reference external" href="https://requests.readthedocs.io/en/latest/api/#requests.Session" title="(in Requests v2.28.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">requests.Session</span></code></a> objects used by the client.</p>
<p>These may be used, for example, to configure the credentials
for the Pulp server or to use an alternative CA bundle.</p>
</p></li>
<li><p><strong>headers</strong> – <p>Any of these arguments, if provided, are used to initialize
<a class="reference external" href="https://requests.readthedocs.io/en/latest/api/#requests.Session" title="(in Requests v2.28.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">requests.Session</span></code></a> objects used by the client.</p>
<p>These may be used, for example, to configure the credentials
for the Pulp server or to use an alternative CA bundle.</p>
</p></li>
<li><p><strong>max_redirects</strong> – <p>Any of these arguments, if provided, are used to initialize
<a class="reference external" href="https://requests.readthedocs.io/en/latest/api/#requests.Session" title="(in Requests v2.28.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">requests.Session</span></code></a> objects used by the client.</p>
<p>These may be used, for example, to configure the credentials
for the Pulp server or to use an alternative CA bundle.</p>
</p></li>
<li><p><strong>params</strong> – <p>Any of these arguments, if provided, are used to initialize
<a class="reference external" href="https://requests.readthedocs.io/en/latest/api/#requests.Session" title="(in Requests v2.28.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">requests.Session</span></code></a> objects used by the client.</p>
<p>These may be used, for example, to configure the credentials
for the Pulp server or to use an alternative CA bundle.</p>
</p></li>
<li><p><strong>proxies</strong> – <p>Any of these arguments, if provided, are used to initialize
<a class="reference external" href="https://requests.readthedocs.io/en/latest/api/#requests.Session" title="(in Requests v2.28.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">requests.Session</span></code></a> objects used by the client.</p>
<p>These may be used, for example, to configure the credentials
for the Pulp server or to use an alternative CA bundle.</p>
</p></li>
<li><p><strong>verify</strong> – <p>Any of these arguments, if provided, are used to initialize
<a class="reference external" href="https://requests.readthedocs.io/en/latest/api/#requests.Session" title="(in Requests v2.28.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">requests.Session</span></code></a> objects used by the client.</p>
<p>These may be used, for example, to configure the credentials
for the Pulp server or to use an alternative CA bundle.</p>
</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.31.0: </span>Added the <code class="docutils literal notranslate"><span class="pre">threads</span></code> argument.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pubtools.pulplib.Client.get_repository">
<span class="sig-name descname"><span class="pre">get_repository</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">repository_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pubtools/pulplib/_impl/client/client.html#Client.get_repository"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pubtools.pulplib.Client.get_repository" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a repository by ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>repository_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><em>str</em></a>) – The ID of the repository to be fetched.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>Future[<a class="reference internal" href="pulpcore.html#pubtools.pulplib.Repository" title="pubtools.pulplib.Repository"><code class="xref py py-class docutils literal notranslate"><span class="pre">Repository</span></code></a>]</dt><dd><p>A future holding the fetched Repository.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pubtools.pulplib.Client.search_repository">
<span class="sig-name descname"><span class="pre">search_repository</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">criteria</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pubtools/pulplib/_impl/client/client.html#Client.search_repository"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pubtools.pulplib.Client.search_repository" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for repositories matching the given criteria.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>criteria</strong> (<a class="reference internal" href="searching.html#pubtools.pulplib.Criteria" title="pubtools.pulplib.Criteria"><code class="xref py py-class docutils literal notranslate"><span class="pre">Criteria</span></code></a>) – A criteria object used for this search.
If None, search for all repositories.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl>
<dt>Future[<a class="reference internal" href="searching.html#pubtools.pulplib.Page" title="pubtools.pulplib.Page"><code class="xref py py-class docutils literal notranslate"><span class="pre">Page</span></code></a>]</dt><dd><p>A future representing the first page of results.</p>
<p>Each page will contain a collection of
<a class="reference internal" href="pulpcore.html#pubtools.pulplib.Repository" title="pubtools.pulplib.Repository"><code class="xref py py-class docutils literal notranslate"><span class="pre">Repository</span></code></a> objects.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pubtools.pulplib.Client.search_content">
<span class="sig-name descname"><span class="pre">search_content</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">criteria</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pubtools/pulplib/_impl/client/client.html#Client.search_content"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pubtools.pulplib.Client.search_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for units across all repositories.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>criteria</strong> (<a class="reference internal" href="searching.html#pubtools.pulplib.Criteria" title="pubtools.pulplib.Criteria"><code class="xref py py-class docutils literal notranslate"><span class="pre">Criteria</span></code></a>) – A criteria object used for this search.
If None, search for all units.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl>
<dt>Future[<a class="reference internal" href="searching.html#pubtools.pulplib.Page" title="pubtools.pulplib.Page"><code class="xref py py-class docutils literal notranslate"><span class="pre">Page</span></code></a>]</dt><dd><p>A future representing the first page of results.</p>
<p>Each page will contain a collection of
<a class="reference internal" href="pulpcore.html#pubtools.pulplib.Unit" title="pubtools.pulplib.Unit"><code class="xref py py-class docutils literal notranslate"><span class="pre">Unit</span></code></a> subclasses objects.</p>
</dd>
</dl>
</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.6.0.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pubtools.pulplib.Client.copy_content">
<span class="sig-name descname"><span class="pre">copy_content</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">from_repository</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_repository</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">criteria</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">CopyOptions(require_signed_rpms=None)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pubtools/pulplib/_impl/client/client.html#Client.copy_content"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pubtools.pulplib.Client.copy_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy content from one repository to another.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>from_repository</strong> (<a class="reference internal" href="pulpcore.html#pubtools.pulplib.Repository" title="pubtools.pulplib.Repository"><code class="xref py py-class docutils literal notranslate"><span class="pre">Repository</span></code></a>) – A repository used as the source of content.</p></li>
<li><p><strong>to_repository</strong> (<a class="reference internal" href="pulpcore.html#pubtools.pulplib.Repository" title="pubtools.pulplib.Repository"><code class="xref py py-class docutils literal notranslate"><span class="pre">Repository</span></code></a>) – A repository to receive copied content.</p></li>
<li><p><strong>criteria</strong> (<a class="reference internal" href="searching.html#pubtools.pulplib.Criteria" title="pubtools.pulplib.Criteria"><code class="xref py py-class docutils literal notranslate"><span class="pre">Criteria</span></code></a>) – A criteria object used to find units for copy.
If None, all units in the source repo will be copied.</p></li>
<li><p><strong>options</strong> (<a class="reference internal" href="#pubtools.pulplib.CopyOptions" title="pubtools.pulplib.CopyOptions"><code class="xref py py-class docutils literal notranslate"><span class="pre">CopyOptions</span></code></a>) – <p>Options influencing the copy.</p>
<p>Some options may be specific to certain repository and content
types. Options which are not applicable to this copy will be
ignored.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl>
<dt>Future[list[<a class="reference internal" href="pulpcore.html#pubtools.pulplib.Task" title="pubtools.pulplib.Task"><code class="xref py py-class docutils literal notranslate"><span class="pre">Task</span></code></a>]]</dt><dd><p>A future which is resolved when the copy completes.</p>
<p>The <a class="reference internal" href="pulpcore.html#pubtools.pulplib.Task.units" title="pubtools.pulplib.Task.units"><code class="xref py py-meth docutils literal notranslate"><span class="pre">units()</span></code></a> attribute may be inspected
to determine which unit(s) were copied. Note that the returned units
typically will have only a subset of available fields.</p>
</dd>
</dl>
</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.17.0.</span></p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.29.0: </span>Added the <code class="docutils literal notranslate"><span class="pre">options</span></code> argument.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pubtools.pulplib.Client.update_content">
<span class="sig-name descname"><span class="pre">update_content</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">unit</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pubtools/pulplib/_impl/client/client.html#Client.update_content"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pubtools.pulplib.Client.update_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Update mutable fields on an existing unit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>unit</strong> (<a class="reference internal" href="pulpcore.html#pubtools.pulplib.Unit" title="pubtools.pulplib.Unit"><code class="xref py py-class docutils literal notranslate"><span class="pre">Unit</span></code></a>) – <p>A unit to be updated.</p>
<p>This unit must have a known <code class="docutils literal notranslate"><span class="pre">unit_id</span></code>.</p>
<p>Only those fields documented as <em>mutable</em> will have any effect during
the update (e.g. <code class="docutils literal notranslate"><span class="pre">cdn_path</span></code>). Other fields either cannot be updated
at all, or can only be updated by re-uploading the associated content.</p>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>Future</dt><dd><p>A future which is resolved with a value of <code class="docutils literal notranslate"><span class="pre">None</span></code> once the unit
has been updated.</p>
</dd>
</dl>
</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.20.0.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pubtools.pulplib.Client.update_repository">
<span class="sig-name descname"><span class="pre">update_repository</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">repository</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pubtools/pulplib/_impl/client/client.html#Client.update_repository"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pubtools.pulplib.Client.update_repository" title="Permalink to this definition">¶</a></dt>
<dd><p>Update mutable fields on an existing repository.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>repository</strong> (<a class="reference internal" href="pulpcore.html#pubtools.pulplib.Repository" title="pubtools.pulplib.Repository"><code class="xref py py-class docutils literal notranslate"><span class="pre">Repository</span></code></a>) – <p>A repository to be updated.</p>
<p>Only those fields documented as <em>mutable</em> will have any effect during
the update (e.g. <code class="docutils literal notranslate"><span class="pre">product_versions</span></code>). Other fields cannot be updated
using this library.</p>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>Future</dt><dd><p>A future which is resolved with a value of <code class="docutils literal notranslate"><span class="pre">None</span></code> once the
repository has been updated.</p>
</dd>
</dl>
</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.29.0.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pubtools.pulplib.Client.search_distributor">
<span class="sig-name descname"><span class="pre">search_distributor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">criteria</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pubtools/pulplib/_impl/client/client.html#Client.search_distributor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pubtools.pulplib.Client.search_distributor" title="Permalink to this definition">¶</a></dt>
<dd><p>Search the distributors matching the given criteria.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>criteria</strong> (<a class="reference internal" href="searching.html#pubtools.pulplib.Criteria" title="pubtools.pulplib.Criteria"><code class="xref py py-class docutils literal notranslate"><span class="pre">Criteria</span></code></a>) – A criteria object used for this search.
If None, search for all distributors.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl>
<dt>Future[<a class="reference internal" href="searching.html#pubtools.pulplib.Page" title="pubtools.pulplib.Page"><code class="xref py py-class docutils literal notranslate"><span class="pre">Page</span></code></a>]</dt><dd><p>A future representing the first page of results.</p>
<p>Each page will contain a collection of
<a class="reference internal" href="pulpcore.html#pubtools.pulplib.Distributor" title="pubtools.pulplib.Distributor"><code class="xref py py-class docutils literal notranslate"><span class="pre">Distributor</span></code></a> objects.</p>
</dd>
</dl>
</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.1.0.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pubtools.pulplib.Client.search_task">
<span class="sig-name descname"><span class="pre">search_task</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">criteria</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pubtools/pulplib/_impl/client/client.html#Client.search_task"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pubtools.pulplib.Client.search_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Search the tasks matching the given criteria.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>criteria</strong> (<a class="reference internal" href="searching.html#pubtools.pulplib.Criteria" title="pubtools.pulplib.Criteria"><code class="xref py py-class docutils literal notranslate"><span class="pre">Criteria</span></code></a>) – A criteria object used for this search.
If None, search for all tasks.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl>
<dt>Future[<a class="reference internal" href="searching.html#pubtools.pulplib.Page" title="pubtools.pulplib.Page"><code class="xref py py-class docutils literal notranslate"><span class="pre">Page</span></code></a>]</dt><dd><p>A future representing the first page of results.</p>
<p>Each page will contain a collection of
<a class="reference internal" href="pulpcore.html#pubtools.pulplib.Task" title="pubtools.pulplib.Task"><code class="xref py py-class docutils literal notranslate"><span class="pre">Task</span></code></a> objects.</p>
</dd>
</dl>
</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.19.0.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pubtools.pulplib.Client.get_maintenance_report">
<span class="sig-name descname"><span class="pre">get_maintenance_report</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pubtools/pulplib/_impl/client/client.html#Client.get_maintenance_report"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pubtools.pulplib.Client.get_maintenance_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current maintenance mode status for this Pulp server.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>Future[<a class="reference internal" href="maintenance.html#pubtools.pulplib.MaintenanceReport" title="pubtools.pulplib.MaintenanceReport"><code class="xref py py-class docutils literal notranslate"><span class="pre">MaintenanceReport</span></code></a>]</dt><dd><p>A future describes the maintenance status</p>
</dd>
</dl>
</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.0.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pubtools.pulplib.Client.set_maintenance">
<span class="sig-name descname"><span class="pre">set_maintenance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">report</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pubtools/pulplib/_impl/client/client.html#Client.set_maintenance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pubtools.pulplib.Client.set_maintenance" title="Permalink to this definition">¶</a></dt>
<dd><p>Set maintenance mode for this Pulp server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>report</strong> – An updated <a class="reference internal" href="maintenance.html#pubtools.pulplib.MaintenanceReport" title="pubtools.pulplib.MaintenanceReport"><code class="xref py py-class docutils literal notranslate"><span class="pre">MaintenanceReport</span></code></a> object that
will be used as the newest maintenance report.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl>
<dt>Future[list[<a class="reference internal" href="pulpcore.html#pubtools.pulplib.Task" title="pubtools.pulplib.Task"><code class="xref py py-class docutils literal notranslate"><span class="pre">Task</span></code></a>]]</dt><dd><p>A future which is resolved when maintenance mode has been updated successfully.</p>
<p>The future contains a task triggered and awaited during the publish
maintenance repository operation.</p>
</dd>
</dl>
</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.0.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pubtools.pulplib.Client.get_content_type_ids">
<span class="sig-name descname"><span class="pre">get_content_type_ids</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pubtools/pulplib/_impl/client/client.html#Client.get_content_type_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pubtools.pulplib.Client.get_content_type_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the content types supported by this Pulp server.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl>
<dt>Future[list[str]]</dt><dd><p>A future holding the IDs of supported content types.</p>
<p>The returned values will depend on the plugins installed
on the connected Pulp server.</p>
<p>”modulemd”, “rpm”, “srpm” and “erratum” are some examples
of common return values.</p>
</dd>
</dl>
</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.0.</span></p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pubtools.pulplib.CopyOptions">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pubtools.pulplib.</span></span><span class="sig-name descname"><span class="pre">CopyOptions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">require_signed_rpms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pubtools/pulplib/_impl/client/copy.html#CopyOptions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pubtools.pulplib.CopyOptions" title="Permalink to this definition">¶</a></dt>
<dd><p>Options influencing a call to
<a class="reference internal" href="#pubtools.pulplib.Client.copy_content" title="pubtools.pulplib.Client.copy_content"><code class="xref py py-meth docutils literal notranslate"><span class="pre">copy_content()</span></code></a>.</p>
<p>Method generated by attrs for class CopyOptions.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pubtools.pulplib.CopyOptions.require_signed_rpms">
<span class="sig-name descname"><span class="pre">require_signed_rpms</span></span><a class="headerlink" href="#pubtools.pulplib.CopyOptions.require_signed_rpms" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether to require signatures on all RPMs in the copy.</p>
<p>In order to copy unsigned RPMs between repositories, it is generally
necessary to set this flag to <code class="docutils literal notranslate"><span class="pre">False</span></code>. Unsigned RPMs may otherwise
be silently omitted from the copy.</p>
</dd></dl>

</dd></dl>

<section id="errors">
<h2>Errors<a class="headerlink" href="#errors" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="pubtools.pulplib.PulpException">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pubtools.pulplib.</span></span><span class="sig-name descname"><span class="pre">PulpException</span></span><a class="reference internal" href="../_modules/pubtools/pulplib/_impl/client/errors.html#PulpException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pubtools.pulplib.PulpException" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when the Pulp server has responded with an unrecoverable error
(generally a failed HTTP response which persisted over several retries).</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pubtools.pulplib.TaskFailedException">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pubtools.pulplib.</span></span><span class="sig-name descname"><span class="pre">TaskFailedException</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pubtools/pulplib/_impl/client/errors.html#TaskFailedException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pubtools.pulplib.TaskFailedException" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when a Pulp task has completed with errors.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pubtools.pulplib.TaskFailedException.task">
<span class="sig-name descname"><span class="pre">task</span></span><a class="headerlink" href="#pubtools.pulplib.TaskFailedException.task" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="pulpcore.html#pubtools.pulplib.Task" title="pubtools.pulplib.Task"><code class="xref py py-class docutils literal notranslate"><span class="pre">Task</span></code></a> which has failed.
Error details may be accessed from the task.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pubtools.pulplib.DetachedException">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pubtools.pulplib.</span></span><span class="sig-name descname"><span class="pre">DetachedException</span></span><a class="reference internal" href="../_modules/pubtools/pulplib/_impl/model/common.html#DetachedException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pubtools.pulplib.DetachedException" title="Permalink to this definition">¶</a></dt>
<dd><p>If an operation is attempted on a Pulp object which requires an active client,
and the object is not attached to any client, this exception is raised.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pubtools.pulplib.InvalidDataException">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pubtools.pulplib.</span></span><span class="sig-name descname"><span class="pre">InvalidDataException</span></span><a class="reference internal" href="../_modules/pubtools/pulplib/_impl/model/common.html#InvalidDataException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pubtools.pulplib.InvalidDataException" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised if raw Pulp data appears to be invalid (i.e. not matching expected schema).</p>
</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">pubtools-pulplib</a></h1>



<p class="blurb">A Pulp library for publishing tools</p>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">API: client</a></li>
<li class="toctree-l1"><a class="reference internal" href="pulpcore.html">API: core</a></li>
<li class="toctree-l1"><a class="reference internal" href="yum.html">API: yum</a></li>
<li class="toctree-l1"><a class="reference internal" href="files.html">API: files</a></li>
<li class="toctree-l1"><a class="reference internal" href="containers.html">API: containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="maintenance.html">API: maintenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="searching.html">API: searching</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">API: testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../schema.html">Schemas</a></li>
</ul>


<hr />
<ul>
    
    <li class="toctree-l1"><a href="https://github.com/release-engineering/pubtools-pulplib">Source</a></li>
    
    <li class="toctree-l1"><a href="https://pypi.org/project/pubtools-pulplib">PyPI</a></li>
    
    <li class="toctree-l1"><a href="https://release-engineering.github.io/pubtools-pulplib/genindex.html">Index</a></li>
    
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../index.html" title="previous chapter">pubtools-pulplib</a></li>
      <li>Next: <a href="pulpcore.html" title="next chapter">API: core</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Red Hat.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 6.1.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../_sources/api/client.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/release-engineering/pubtools-pulplib" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>